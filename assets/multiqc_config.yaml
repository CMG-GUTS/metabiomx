report_comment: >
  This report has been generated by the <a href="https://github.com/CMG-GUTS/metabiomx"
  target="_blank"><MetaBIOMx</a> analysis pipeline.

table_sample_merge:
  "input": "_raw"
  "trimmed": "_trim"
  "decon": "_decon"
  "R1": "_1"
  "R2": "_2"
  "trim": ".settings"
  "aligned": "_bowtie2"

disable_version_detection: true
data_format: "yaml"

run_modules:
  - fastqc
  - adapterremoval
  - trimmomatic
  - custom_content
  - bowtie2
  - busco

top_modules:
  - "fastqc":
      name: "FastQC: Input Reads"
      path_filters:
        - "*_raw*fastqc.zip"
  - "fastqc":
      name: "FastQC: Trimmed Reads"
      path_filters:
        - "*_trim*fastqc.zip"
  - "fastqc":
      name: "FastQC: Host Removed Reads"
      path_filters:
        - "*_decon*fastqc.zip"
  - "adapterremoval":
      name: "Read trimming via AdapterRemoval"
      path_filters:
        - "*.settings"
  - "trimmomatic":
      name: "Read trimming via Trimmomatic"
  - "busco":
      name: "MetaSpades: Contig Quality Control via BUSCO"
  - "bowtie2":
      name: "MetaSpades: Reads Aligned Against Contigs"
      path_filters:
        - "*_bowtie2.log"
  - custom_content

table_columns_name:
  "FastQC: Input Reads":
    percent_duplicates: "% Dups (input)"
    percent_gc: "% GC (input)"
    avg_sequence_length: "Avg. length (input)"
    median_sequence_length: "Median length (input)"
    total_sequences: "M Seqs (input)"
    percent_fails: "% Fails (input)"
  "FastQC: Trimmed Reads":
    percent_duplicates: "% Dups (trim)"
    percent_gc: "% GC (trim)"
    avg_sequence_length: "Avg. length (trim)"
    median_sequence_length: "Median length (trim)"
    total_sequences: "M Seqs (trim)"
    percent_fails: "% Fails (trim)"
  "FastQC: Host Removed Reads":
    percent_duplicates: "% Dups (decon)"
    percent_gc: "% GC (decon)"
    avg_sequence_length: "Avg. length (decon)"
    median_sequence_length: "Median length (decon)"
    total_sequences: "M Seqs (decon)"
    percent_fails: "% Fails (decon)"

extra_fn_clean_exts:
  - type: regex
    pattern: "_bowtie2.log$"
    module: bowtie2
  - type: regex
    pattern: "\\.settings$"
    module: adapterremoval

custom_data:
  pipeline_parameters:
    file_format: "tsv"
    section_name: "Pipeline parameters"
    description: "Specified input parameters by the nextflow pipeline. Also non-default software options"
    plot_type: "table"
    pconfig:
      headers:
        - Parameter
        - Value
  versions:
    file_format: "tsv"
    section_name: "Pipeline software versions"
    plot_type: "table"
    pconfig:
      headers:
        - Software
        - Version

sp:
  pipeline_parameters:
    fn: "pipeline_params.tsv"
  versions:
    fn: "software_versions.tsv"